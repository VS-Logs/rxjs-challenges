import{j as q,h,m as a,t as p}from"./tap.3b5cc1bd.js";import{i as k,f as u}from"./header.42500b50.js";import{B as C}from"./BehaviorSubject.39e5689a.js";import{a as w,i as _,t as F}from"./takeUntil.445290cc.js";import{m as j}from"./merge.5838d407.js";import{b as B}from"./async.c68d284e.js";import{s as E,d as L}from"./switchMap.30eb060d.js";import{w as S}from"./withLatestFrom.423d9801.js";import{f as M}from"./filter.d89faf49.js";import"./Subject.9e91c958.js";import"./isScheduler.b11c038e.js";import"./mergeAll.849e765c.js";import"./empty.dbade674.js";import"./args.33b442f4.js";import"./from.854743c8.js";var $={leading:!0,trailing:!1};function U(t,e){return e===void 0&&(e=$),q(function(r,n){var y=e.leading,f=e.trailing,l=!1,m=null,o=null,c=!1,T=function(){o==null||o.unsubscribe(),o=null,f&&(v(),c&&n.complete())},g=function(){o=null,c&&n.complete()},d=function(i){return o=k(t(i)).subscribe(h(n,T,g))},v=function(){if(l){l=!1;var i=m;m=null,n.next(i),!c&&d(i)}};r.subscribe(h(n,function(i){l=!0,m=i,!(o&&!o.closed)&&(y?v():d(i))},function(){c=!0,!(f&&l&&o&&!o.closed)&&n.complete()}))})}function V(t,e,r){e===void 0&&(e=B),r===void 0&&(r=$);var n=w(t,e);return U(function(){return n},r)}const H=document.querySelector("#timer"),O=document.querySelector("#start"),z=document.querySelector("#reset"),A=document.querySelector("#pause"),D=document.querySelector("#lap"),b=document.querySelector(".laps"),s=new C(0),G=u(O,"click").pipe(a(()=>!0)),I=u(A,"click").pipe(a(()=>!1)),x=u(z,"click").pipe(a(()=>!1)),J=u(D,"click").pipe(a(()=>!1)),K=_(100).pipe(F(j(I,x)));G.pipe(V(500),E(()=>K),S(s),a(([t,e])=>e+.1),a(t=>+t.toFixed(1)),p(t=>{s.next(t)})).subscribe();x.pipe(p(()=>{s.next(0),b.innerHTML=""})).subscribe();J.pipe(S(s),L((t,[e,r])=>t[1]===r),M(([t,e])=>!!e),a(([t,e])=>{const r=document.createElement("li");return r.textContent=`${e} seconds`,r}),p(t=>b.prepend(t))).subscribe();s.pipe(p(t=>{H.textContent=t+"s"})).subscribe();
