import{j as b,h as f,k,m as c,t as h}from"./tap.3b5cc1bd.js";import{i as y,f as x}from"./header.42500b50.js";import{B as w}from"./BehaviorSubject.39e5689a.js";import{a as _,b as F,i as j,t as B}from"./takeUntil.0b0fd414.js";import{m as E}from"./merge.124cee42.js";import{w as C}from"./withLatestFrom.423d9801.js";import{f as I}from"./filter.d89faf49.js";import"./Subject.9e91c958.js";import"./isScheduler.b11c038e.js";import"./mergeAll.96b8707b.js";import"./empty.dbade674.js";import"./args.33b442f4.js";function K(t,e){return e===void 0&&(e=k),t=t!=null?t:L,b(function(r,n){var o,l=!0;r.subscribe(f(n,function(a){var u=e(a);(l||!t(o,u))&&(l=!1,o=u,n.next(a))}))})}function L(t,e){return t===e}function M(t,e){return b(function(r,n){var o=null,l=0,a=!1,u=function(){return a&&!o&&n.complete()};r.subscribe(f(n,function(i){o==null||o.unsubscribe();var p=0,d=l++;y(t(i,d)).subscribe(o=f(n,function(v){return n.next(e?e(i,v,d,p++):v)},function(){o=null,u()}))},function(){a=!0,u()}))})}var T={leading:!0,trailing:!1};function U(t,e){return e===void 0&&(e=T),b(function(r,n){var o=e.leading,l=e.trailing,a=!1,u=null,i=null,p=!1,d=function(){i==null||i.unsubscribe(),i=null,l&&($(),p&&n.complete())},v=function(){i=null,p&&n.complete()},S=function(s){return i=y(t(s)).subscribe(f(n,d,v))},$=function(){if(a){a=!1;var s=u;u=null,n.next(s),!p&&S(s)}};r.subscribe(f(n,function(s){a=!0,u=s,!(i&&!i.closed)&&(o?$():S(s))},function(){p=!0,!(l&&a&&i&&!i.closed)&&n.complete()}))})}function H(t,e,r){e===void 0&&(e=F),r===void 0&&(r=T);var n=_(t,e);return U(function(){return n},r)}const O=document.querySelector("#timer"),V=document.querySelector("#start"),z=document.querySelector("#reset"),A=document.querySelector("#pause"),D=document.querySelector("#lap"),g=document.querySelector(".laps"),m=new w(0),G=x(V,"click").pipe(c(()=>!0)),J=x(A,"click").pipe(c(()=>!1)),q=x(z,"click").pipe(c(()=>!1)),N=x(D,"click").pipe(c(()=>!1)),P=j(100).pipe(B(E(J,q)));G.pipe(H(500),M(()=>P),C(m),c(([t,e])=>e+.1),c(t=>+t.toFixed(1)),h(t=>{m.next(t)})).subscribe();q.pipe(h(()=>{m.next(0),g.innerHTML=""})).subscribe();N.pipe(C(m),K((t,[e,r])=>t[1]===r),I(([t,e])=>!!e),c(([t,e])=>{const r=document.createElement("li");return r.textContent=`${e} seconds`,r}),h(t=>g.prepend(t))).subscribe();m.pipe(h(t=>{O.textContent=t+"s"})).subscribe();
